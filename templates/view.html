{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-start mb-3">
  <div>
    <h2>{{ complaint.title }}</h2>
    <p class="text-muted small">By {{ complaint.student_name }} {% if complaint.student_email %} • {{ complaint.student_email }} {% endif %} • {{ complaint.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
  </div>
  <div class="text-end">
    <a class="btn btn-sm btn-outline-primary" href="{{ url_for('edit_complaint', cid=complaint.id) }}">Edit</a>
    <form method="post" action="{{ url_for('delete_complaint', cid=complaint.id) }}" style="display:inline" onsubmit="return confirm('Delete this complaint?');">
      <button class="btn btn-sm btn-outline-danger">Delete</button>
    </form>
  </div>
</div>

<div class="card mb-3">
  <div class="card-body">
    <h6>Status: <span class="badge bg-info text-dark">{{ complaint.status }}</span></h6>
    <hr/>
    <p style="white-space: pre-line;">{{ complaint.description }}</p>
  </div>
</div>

<a class="btn btn-secondary" href="{{ url_for('index') }}">Back to list</a>
{% endblock %}
